(this["webpackJsonpquick-pick-flicker"]=this["webpackJsonpquick-pick-flicker"]||[]).push([[0],{38:function(e,t,a){e.exports=a.p+"static/media/Header.0d15b446.png"},39:function(e,t,a){e.exports=a(67)},44:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(36),l=a.n(i),c=(a(44),a(7)),o=a(8),s=a(10),u=a(9),m=a(15),d=a.n(m),h=function(e){return d()({url:"https://api.themoviedb.org/3/search/movie",params:{api_key:"f012df5d63927931e82fe659a8aaa3ac",language:"en-US",sort_by:"popularity.desc",include_adult:"false",include_video:"false",page:1,query:e}}).then((function(e){return e=e.data.results}))},v=a(14),p=function(e){var t=e.movies;return r.a.createElement("div",{className:"catalogue"},t.map((function(e){return r.a.createElement("div",{key:e.id,className:"movie"},r.a.createElement(v.b,{to:"/movie/".concat(e.id)},r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(e.poster_path),alt:"Movie poster for ".concat(e.original_title)})))})))},f=function(e){var t=e.handleSearchText,a=e.handleSearch,n=e.handleSubmit;return r.a.createElement("div",null,r.a.createElement("form",{action:"submit",onSubmit:n},r.a.createElement("input",{type:"text",onChange:function(e){return t(e)}}),r.a.createElement("button",{onClick:a},"SEARCH")))},E=function(){return r.a.createElement("p",null,"loading...")},k=function(e){return r.a.createElement("button",null,"Save Movie")},b=function(e){var t=e.handleChange,a=e.handleClick,n=e.userListName;return r.a.createElement("div",{className:"formContainer"},r.a.createElement("form",{action:"text"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Create your list"),r.a.createElement("div",{className:"newListContainer"},r.a.createElement("label",{className:"srOnly",htmlFor:"newList"},"New list here"),r.a.createElement("input",{onChange:t,type:"text",name:"newList",value:n,placeholder:"New list here",id:"newList",className:"newList"}),r.a.createElement("button",{className:"newListButton",onClick:a},"+")))))},g=function(e){var t=e.userList,a=e.handleDeleteList,n=e.handleDeleteMovie;return r.a.createElement("ul",{className:"movieListContainer"},t.map((function(e){return console.log(t),r.a.createElement("li",{className:"movieList",key:e.key},r.a.createElement("div",{className:"movieListTitle"},r.a.createElement("p",null,e.info.name),r.a.createElement("button",{onClick:function(){a(e.key)}},"Delete List")),r.a.createElement("div",{className:"selectedMoviesinList"},r.a.createElement("ul",null,e.info.list.map((function(t,a){return r.a.createElement("li",{key:"".concat(e.key,"-").concat(a),className:"selectedMovies"},t,r.a.createElement("button",{onClick:function(){n(e.key,a)}},"Delete Movie"))})))))})))},y=a(38),L=a.n(y),N=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"wrapper headerContainer"},r.a.createElement("div",{className:"titleContainer"},r.a.createElement("h1",null,"Quick Flick Picker"),r.a.createElement("h2",null,"A curator for blockbusters and movies")),r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:L.a,alt:"Retro camera"}))))},S=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("p",null,"Developed by Krupali Thakkar, David Allen-Jordan, Clayton Puno, Pik Lin Hoe")))},C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSearchText=function(e){n.setState({searchText:e.target.value})},n.handleSearch=function(){h(n.state.searchText).then((function(e){return n.setState({movies:e})}))},n.handleSubmit=function(e){e.preventDefault(),h(n.state.searchText).then((function(e){return n.setState({movies:e,searched:!0})}))},n.state={movies:[],searchText:"",searched:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;d()({url:"https://api.themoviedb.org/3/discover/movie",params:{api_key:"f012df5d63927931e82fe659a8aaa3ac",language:"en-US",sort_by:"popularity.desc",include_adult:"false",include_video:"false",page:1}}).then((function(e){return e=e.data.results})).then((function(t){return e.setState({movies:t})}))}},{key:"render",value:function(){var e=this.state,t=e.movies;e.searched;return r.a.createElement("div",null,r.a.createElement(f,{handleSearchText:this.handleSearchText,handleSearch:this.handleSearch,handleSubmit:this.handleSubmit}),this.state.searched&&r.a.createElement(p,{movies:t}))}}]),a}(n.Component),w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={movie:{},loading:!0,savedMovie:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match;(e=a.params.movieID,d()({url:"https://api.themoviedb.org/3/movie/".concat(e),params:{api_key:"f012df5d63927931e82fe659a8aaa3ac",language:"en-US",sort_by:"popularity.desc",include_adult:"false",include_video:"false",page:"1"}}).then((function(e){return e.data}))).then((function(e){return t.setState({movie:e,loading:!1})}))}},{key:"render",value:function(){var e=this.state.movie,t=e.title,a=e.tagline,n=e.overview,i=e.poster_path,l=this.state.loading;return r.a.createElement(r.a.Fragment,null,l?r.a.createElement(E,null):r.a.createElement("div",{className:"poster"},r.a.createElement("div",{className:"description"},r.a.createElement("h1",null,t),r.a.createElement("h2",null,a),r.a.createElement("p",null,n)),r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(i),alt:"Movie poster for ".concat(t)})),r.a.createElement(k,null)))}}]),a}(n.Component),D=a(20),O=a.n(D);a(65);O.a.initializeApp({apiKey:"AIzaSyCGTiHiUbOdDgDWLE_5L-vE5Ti1Nr9FyDw",authDomain:"quick-flick-picker-1d7bd.firebaseapp.com",databaseURL:"https://quick-flick-picker-1d7bd.firebaseio.com",projectId:"quick-flick-picker-1d7bd",storageBucket:"quick-flick-picker-1d7bd.appspot.com",messagingSenderId:"1031062113355",appId:"1:1031062113355:web:f817b635cd825646d151ce"});var j=O.a,x=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState({userListName:t.target.value})},e.handleClick=function(t){t.preventDefault();var a=j.database().ref(),n={name:e.state.userListName,list:e.state.movies};a.push(n),e.setState({userListName:""})},e.handleDeleteList=function(e){j.database().ref().child(e).remove()},e.handleDeleteMovie=function(e,t){console.log(e,t),j.database().ref("".concat(e,"/list")).child(t).remove()},e.state={userList:[],userListName:"",movies:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;j.database().ref().on("value",(function(t){var a=[],n=t.val();for(var r in n){var i={key:r,info:n[r]};a.push(i)}e.setState({userList:a})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(b,{handleChange:this.handleChange,handleClick:this.handleClick,userListName:this.state.userListName}),r.a.createElement(g,{userList:this.state.userList,handleDeleteList:this.handleDeleteList,handleDeleteMovie:this.handleDeleteMovie}))}}]),a}(n.Component),_=a(1),M=function(){return r.a.createElement(v.a,{basename:"/quickPickFlicker"},r.a.createElement(_.a,{exact:!0,path:"/",component:x}),r.a.createElement(_.a,{exact:!0,path:"/",component:C}),r.a.createElement(_.a,{exact:!0,path:"/movie/:movieID",component:x}),r.a.createElement(_.a,{exact:!0,path:"/movie/:movieID",component:w}))},T=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(M,null),r.a.createElement(S,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.17ba5091.chunk.js.map