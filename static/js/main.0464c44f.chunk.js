(this["webpackJsonpquick-pick-flicker"]=this["webpackJsonpquick-pick-flicker"]||[]).push([[0],{36:function(e,t,a){e.exports=a.p+"static/media/Header.b6199035.png"},40:function(e,t,a){e.exports=a(68)},45:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(35),l=a.n(i),c=(a(45),a(7)),s=a(8),o=a(10),u=a(9),m=a(14),d=a.n(m),h=function(e){return d()({url:"https://api.themoviedb.org/3/search/movie",params:{api_key:"f012df5d63927931e82fe659a8aaa3ac",language:"en-US",sort_by:"popularity.desc",include_adult:"false",include_video:"false",page:1,query:e}}).then((function(e){return e=e.data.results}))},v=a(39),f=a(17),p=a.n(f);a(62);p.a.initializeApp({apiKey:"AIzaSyCGTiHiUbOdDgDWLE_5L-vE5Ti1Nr9FyDw",authDomain:"quick-flick-picker-1d7bd.firebaseapp.com",databaseURL:"https://quick-flick-picker-1d7bd.firebaseio.com",projectId:"quick-flick-picker-1d7bd",storageBucket:"quick-flick-picker-1d7bd.appspot.com",messagingSenderId:"1031062113355",appId:"1:1031062113355:web:f817b635cd825646d151ce"});var E=p.a,b=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleAddMovie=function(e,t){E.database().ref().on("value",(function(a){var r=[],i=a.val();for(var l in i)l===e&&(r=Object(v.a)(i[l].list));r.push(t),n.setState({movieListToPush:r})})),E.database().ref("".concat(e,"/list")).update(n.state.movieListToPush)},n.state={movieListToPush:[],usersQuery:""},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.movies,n=t.movieData;return r.a.createElement("div",{className:"catalogue wrapper"},a.map((function(t){return r.a.createElement("div",{key:"frag-".concat(t.id)},r.a.createElement("div",{className:"movie"},r.a.createElement("p",{className:"movieTitles"},"".concat(t.title)),r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"Movie poster for ".concat(t.title)})),r.a.createElement("div",{className:"buttonContainer"},n.map((function(a){return r.a.createElement("button",{className:"addMovieButton",onClick:function(){e.handleAddMovie(a.key,t.title)}},"Add movie to ".concat(a.info.name," list"))}))))})))}}]),a}(n.Component),k=function(e){var t=e.handleSearchText,a=e.handleSearch,n=e.handleSubmit;return r.a.createElement("div",{className:"searchBar wrapper"},r.a.createElement("form",{className:"searchForm",action:"submit",onSubmit:n},r.a.createElement("legend",null,"Search for movies"),r.a.createElement("div",{className:"formFlexContainer"},r.a.createElement("label",{className:"srOnly"},"Type in a movie to search"),r.a.createElement("input",{type:"text",placeholder:"Search for movies",onChange:function(e){return t(e)}}),r.a.createElement("button",{className:"searchButton",title:"Search","aria-label":"Search",onClick:a},r.a.createElement("i",{class:"fas fa-search"})))))},y=function(e){var t=e.handleChange,a=e.handleClick,n=e.userListName;return r.a.createElement("div",{className:"formContainer"},r.a.createElement("form",{action:"text"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Create your list"),r.a.createElement("div",{className:"newListContainer"},r.a.createElement("label",{className:"srOnly",htmlFor:"newList"},"New list here"),r.a.createElement("input",{onChange:t,type:"text",name:"newList",value:n,placeholder:"Add your list here",id:"newList",className:"newList"}),r.a.createElement("button",{className:"newListButton",onClick:a},"+")))))},g=function(e){var t=e.userList,a=e.handleDeleteList,n=e.handleDeleteMovie;return r.a.createElement("ul",{className:"movieListContainer"},t.map((function(e){return r.a.createElement("li",{className:"movieList",key:e.key},r.a.createElement("div",{className:"movieListTitle"},r.a.createElement("p",null,e.info.name),r.a.createElement("button",{className:"trashButton","aria-label":"Delete List",onClick:function(){a(e.key)}},r.a.createElement("i",{class:"fas fa-trash-alt"}))),r.a.createElement("div",{className:"selectedMoviesinList"},r.a.createElement("ul",null,e.info.list.map((function(t,a){return r.a.createElement("li",{key:"".concat(e.key,"-").concat(a),className:"selectedMovies"},r.a.createElement("p",null,t),r.a.createElement("button",{"aria-label":"Delete Movie",className:"trashButtonMovie",onClick:function(){n(e.key,a)}},r.a.createElement("i",{class:"fas fa-trash-alt"})))})))))})))},N=a(36),L=a.n(N),S=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"wrapper headerContainer"},r.a.createElement("div",{className:"titleContainer"},r.a.createElement("h1",null,"Quick Flick Picker"),r.a.createElement("h2",null,"A curator for blockbusters and movies")),r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:L.a,alt:"Retro camera"}))))},C=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("p",null,"Developed by Krupali Thakkar, David Allen-Jordan, Pik Lin Hoe")))},D=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({userListName:e.target.value})},n.handleClick=function(e){e.preventDefault();var t=E.database().ref(),a={name:n.state.userListName,list:n.state.movies};t.push(a),n.setState({userListName:""})},n.handleDeleteList=function(e){E.database().ref().child(e).remove()},n.handleDeleteMovie=function(e,t){E.database().ref("".concat(e,"/list")).child(t).remove()},n.state={userList:[],userListName:"",movies:["Start adding to this list"]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.database().ref().on("value",(function(t){var a=[],n=t.val();for(var r in n){var i={key:r,info:n[r]};a.push(i)}e.props.galleryInfo(a),e.setState({userList:a})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(y,{handleChange:this.handleChange,handleClick:this.handleClick,userListName:this.state.userListName}),r.a.createElement(g,{userList:this.state.userList,handleDeleteList:this.handleDeleteList,handleDeleteMovie:this.handleDeleteMovie}))}}]),a}(n.Component),w=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSearchText=function(e){n.setState({searchText:e.target.value})},n.handleSearch=function(){h(n.state.searchText).then((function(e){return n.setState({movies:e})}))},n.handleSubmit=function(e){e.preventDefault(),h(n.state.searchText).then((function(e){return n.setState({movies:e,searched:!0})}))},n.movieData=function(e){n.setState({galleryData:e})},n.state={movies:[],searchText:"",searched:!1,galleryData:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;d()({url:"https://api.themoviedb.org/3/discover/movie",params:{api_key:"f012df5d63927931e82fe659a8aaa3ac",language:"en-US",sort_by:"popularity.desc",include_adult:"false",include_video:"false",page:1}}).then((function(e){return e=e.data.results})).then((function(t){return e.setState({movies:t})}))}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.galleryData;return r.a.createElement("div",null,r.a.createElement(D,{galleryInfo:this.movieData}),r.a.createElement(k,{handleSearchText:this.handleSearchText,handleSearch:this.handleSearch,handleSubmit:this.handleSubmit}),r.a.createElement(b,{movies:t,movieData:a,userQuery:this.state.searchText}))}}]),a}(n.Component),O=a(37),j=a(1),T=function(){return r.a.createElement(O.a,{basename:"/quickPickFlicker"},r.a.createElement(j.a,{exact:!0,path:"/movie/:movieID",component:D}),r.a.createElement(j.a,{exact:!0,path:"/",component:w}))},x=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement(T,null),r.a.createElement(C,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.0464c44f.chunk.js.map